(:main
    (:main
        0 0
		// Starting number
		r12 <- 3
		:outer
		rdi <- r12
		goto :inner
		:inner_return
		// Go until 1000
		cjump r12 = 2001 :end :continue
		:continue
		r12 += 2
		goto :outer
		:end
		return

		:inner
		r15 <- rdi
		call print 1
		cjump r15 = 3 :ret :con
		:con
		rdi <- r15
		r15 &= 2
		cjump r15 = 0 :even :odd
		:odd
		rdi >>= 1
		rdi *= 3
		rdi += 1
		rdi <<= 1
		rdi += 1
		goto :inner
		:even
		rdi >>= 1
		rdi += 1
		goto :inner
		:ret
		// Print 'nil' to indicate that we're done with this number
		rdi <- 0
		call print 1
		goto :inner_return
	)
)
